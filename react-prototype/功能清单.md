# 功能清单 · 技术架构 · 部署说明（react-prototype）

本文件基于仓库 `react-prototype/` 的源码（Vite + React）整理，面向评审/交接使用。

## 一、功能清单（原型级）

### 1. 全局与布局

- 响应式布局：头部（Logo/搜索/导入/新建）、侧边导航（项目/看板/进度/预警），移动端自动收缩为底部导航。
- 全局搜索输入（占位）：支持按关键词过滤（项目页逻辑可扩展）。
- 白底卡片化 UI：各模块以卡片呈现，统一圆角与阴影。

### 2. 项目页（`/`）

- 指标卡片：项目数、任务数、完成率（带进度条）、阻塞数。
- 筛选工具条：部门/状态下拉、关键词输入、导出 CSV 按钮（占位）。
- 简化看板：四列（未开始/进行中/阻塞/已完成），每列若干任务卡片。
  - 任务卡片要素：标题、Owner 标签、进度百分比、状态着色。

### 3. 看板页（`/board`）

- 图表卡片区：
  - 饼图（状态分布）、柱状图（各列任务数）、折线图（近 7 日完成量），均为轻量 SVG 实现。
- 看板列：同项目页，示例数据。

### 4. 进度页（`/timeline`）

- 时间轴（SVG）示意：多条任务条，长度代表持续时间，不同颜色代表类别；含网格基线。

### 5. 预警页（`/alerts`）

- 预警列表：带等级颜色点（高/中/信息）、文案、关联对象，“通知”按钮（占位）。

## 二、技术架构

### 1. 框架与工具

- 构建/开发：Vite 7
- 视图：React 19
- 路由：react-router-dom 7（`BrowserRouter` + `Routes`/`Route` + `NavLink`）
- 语言：ESM（`type: module`），原生 CSS 全局样式（`src/index.css`）
- Lint：ESLint 9（含 React Hooks/Refresh 插件）

### 2. 代码结构

```
src/
  ├─ main.jsx        // 入口，StrictMode + BrowserRouter 包裹 App
  ├─ App.jsx         // 布局（Shell）+ 各路由页面 + 轻量图表组件（Pie/Bar/Line）
  ├─ index.css       // 全局样式：白底卡片风、响应式、看板/图表样式
  └─ assets/         // 静态资源（react.svg）
```

- Shell 布局：`header`（Logo/搜索/导入/新建）、`aside.sidebar`（导航）、`main`（路由内容）。
- 页面组件：`Projects`、`Board`、`Timeline`、`Alerts` 均在 `App.jsx` 中实现，示例数据内置在组件函数中。
- 图表组件：`PieChart`、`BarChart`、`LineChart` 使用 SVG 原生标签绘制，无第三方依赖。

### 3. 状态与数据

- 当前为原型：数据为本地常量/临时生成（`Math.random`），未接入后端。
- 过滤/搜索：项目页可按输入过滤（可扩展为全局）。

### 4. 可扩展点（建议）

- 状态管理：Zustand/Redux（跨页共享筛选、用户信息、任务列表）。
- 看板拖拽：`@dnd-kit/core` 或 `react-beautiful-dnd`。
- 任务详情：右侧抽屉（表单字段、评论、附件），与路由参数联动。
- 时间轴：计划/实际对比、依赖连线、关键路径高亮。
- 图表：抽象 Chart 工具层，支持统一主题与数据适配。
- 接口层：基于 `fetch`/`axios` 的 API 封装 + 类型定义（建议 TS 化）。

## 三、部署说明

### 1. 开发运行

```bash
cd /Users/lihengrui/工作/2025/src/HA1/react-prototype
npm install
npm run dev
# 浏览器访问 http://localhost:5173
```

### 2. 构建产物

```bash
npm run build
# 产物输出到 dist/，为纯静态资源，可放置任意静态服务器
```

### 3. 预览构建

```bash
npm run preview
# 本地以静态服务预览 dist/（默认端口 4173）
```

### 4. 常见部署方式

- Nginx/Apache：将 `dist/` 指向站点根目录；开启 gzip/brotli；`try_files` 支持单页路由（`location / { try_files $uri /index.html; }`）。
- 静态托管：Netlify / Vercel / GitHub Pages（选择 React/Vite 模板或自定义构建命令 `npm run build`）。

## 四、环境与脚本

- Node ≥ 18，npm ≥ 9
- `package.json`：
  - `dev`: Vite 开发服务器
  - `build`: Vite 构建
  - `preview`: 预览打包产物
  - `lint`: ESLint 代码检查

## 五、边界与已知限制

- 所有数据为示例/占位，未含鉴权、权限与真实接口。
- 未实现拖拽、任务详情、依赖/里程碑等高级能力。
- 样式为全局 CSS，未做组件化样式隔离（可引入 CSS Modules/Tailwind）。

—— 完 ——
